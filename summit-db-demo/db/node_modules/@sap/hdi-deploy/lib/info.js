'use strict';

/* jslint indent: 4 */

function getInfoForComponents(components, serverVersion) {
    var info = {};

    var all = (components.length === 0) ||Â (components.indexOf('all') !== -1);

    if (all || (components.indexOf('client') !== -1)) {
        var packagejson = require('./../package.json');
        var features_client = require('./features.client.js').getFeatures(serverVersion);
        info.client = {
            name: packagejson.name,
            version: packagejson.version,
            features: features_client
        };
    }

    if (all || (components.indexOf('server') !== -1)) {
        info.server = {
            name: 'sap-hana-database',
            version: serverVersion.version,
            features: {}
        };
    }

    return info;
}

module.exports = {
    getInfoForComponents: getInfoForComponents
};
